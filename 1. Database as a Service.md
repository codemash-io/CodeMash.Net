# CodeMash - Database as a Service

CodeMash - Database as a Service is more than repository pattern over standard MondoDb driver of C#. It contains all necessary operations for database management like : 
CRUD operations (async supported), Batching, Error Handling, Backups, Pagination, Caching, Database Index Management, Dynamic Schema Builder and Validation. More about database management you can find at  <a target="_blank" href="http://codemash.io/documentation/db/mongodb">CodeMash documentation.</a>

1.1. [Connecting to database](https://github.com/codemash-io/CodeMash.Net/blob/master/1.1.%20Connecting%20to%20database.md)  
1.2. [Create](https://github.com/codemash-io/CodeMash.Net/blob/master/1.2.%20Create.md)  
1.3. [Read](https://github.com/codemash-io/CodeMash.Net/blob/master/1.3.%20Read.md)  
1.4. [Update](https://github.com/codemash-io/CodeMash.Net/blob/master/1.4.%20Update.md)  
1.5. [Delete](https://github.com/codemash-io/CodeMash.Net/blob/master/1.5.%20Delete.md)  

**Example**

```csharp
 
using System;
using CodeMash;
using CodeMash.Data;
using CodeMash.Interfaces;
using CodeMash.Notifications;
using MongoDB.Driver;

namespace ConsoleApplication
{
    [CollectionName("Actors")]
    public class Person : EntityBase
    {
        public string Name { get; set; }
        public int Age { get; set; }
        public string Email { get; set; }
    }

    class Program
    {
        
        static void Main(string[] args)
        {
            var person = new Person
            {
                Name = "Brad Pitt",
                Age = 55,
                Email = "guessbradsemailaddress@gmail.com"
            };

			var personsRepository = CodemashRepositoryFactory.Create<Person>();
			var notificationsService = CodemashNotificationFactory.Create<Email>();
						
			personsRepository.InsertOne(person);

            notificationsService.Send(
				person.Email, 
				"CodeMash - it just works", 
				$"Hi Brad, yours id is - {person.Id}", 
				"support@codemash.io");

			// simple way using lambda expressions
            var bradPittByName = personsRepository.FindOne(x => x.Name == "Brad Pitt");
            var bradPittById = personsRepository.FindOneById(person.Id);
            
			// mongo db way
			var filter = Builders<Person>.Filter.Eq(x => x.Name, "Brad Pitt");
			var bradPittByMongoDbNotation = personsRepository.FindOne(filter);

            var allActorsCount = personsRepository.Count(x => true);

            Console.WriteLine($"Actors on database: {allActorsCount}");
            Console.ReadLine();
        }
    }
}
```
